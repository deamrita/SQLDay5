-------------2nd highest salary-----------------
select max(salary) as SecondHighestSalary from Employee
where salary not in
(select max(salary) from Employee)

---------------ranking score----------------
/* Write your T-SQL query statement below */
select score,
dense_rank() over(order by score desc) as rank
from Scores

----------------Nth highest salary-------------
CREATE FUNCTION getNthHighestSalary(@N INT) RETURNS INT AS
BEGIN
    RETURN (
        /* Write your T-SQL query statement below. */
        select isnull((select X.salary from
        (select id,salary,
        dense_rank() over(order by salary desc) rnk
        from Employee) X
        where @N = X.rnk),null)
        
    );
END
